# 云架构设计基础

为什么做架构设计？
合理成本，选择，组合，“云产品”，满足业务需求，支持可用/拓展/安全型
keyword：高可用，高拓展，高安全，低成本


## 高可用
评估分级：
RPO：recovery point objective，最大数据丢失量
RTO：recovery time objective， 灾难到正常所需时间

可分级：
- 2个9
- 3个9
- 4个9
- 5个9
提高可用性原则，提高可用时间，降低不可用时间

冗余设计---》目的：增加容灾性
主从〉双机双工〉集群
### 伸缩性

### 高可用组件：
  - 存储：对象/文件/归档/云硬盘
  - 数据库：（非）关系性
  - 网路：NAT网关，云解析
  - 中间件：负载均衡、消息队列、api网关、分布式服务框架
  - CDN与加速：静态内容、动态网络、下载分布、音视频加速


## 高拓展
设计原则：解耦
  - 使用标准化云组件
  - 微服务化

## 高安全
业务连续性、安全性、数据不丢失、数据不泄漏
主机、网络、数据、应用、业务
  - 主机安全
    - 隐患
      - 木马攻击
      - 密码破解
      - 漏洞攻击
    - 措施
      - 合理补丁更新策略
      - 定期漏洞扫描
      - 安装安全防护软件<云镜>
      - 关闭/更换高危接口
  - 网路安全
    - 隐患
      - DDOS攻击
      - XSS攻击
      - 注入攻击
      - CC攻击
      - CSRF攻击
    - 措施
      - 流量清洗
      - 定期漏洞扫描
      - 网络隔离
  - 数据安全
    -  隐患
       -  数据泄漏
          -  员工疏忽、系统故障
       -  数据窃取
          -  嗅探/中间人攻击
    -  措施
       -  最低权限分配原则分配访问/操作
       -  数据加密
  - 应用、业务安全
    -  隐患
       -  羊毛党
       -  金融欺诈
       -  应用漏洞
    -  措施
       -  防刷策略
       -  使用云产品识别用户画像
       -  加强应用防护、漏洞修复

### 高安全云产品
  - 网络安全
    - VPC、安全组、大禹、WAF
  - 业务安全
    - 天御
  - 应用安全
    - 应用安全MS
  - 主机安全
    - 云镜
  - 数据安全
    - 密钥管理KMS、数据加密HSM、访问管理CAM、云审计CA

## 低成本
人工、按需购买

